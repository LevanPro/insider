{"schemes":["http"],"swagger":"2.0","info":{"description":"Automatic 2-minute message sending service.","title":"UseInsder Message Sender API","contact":{},"version":"1.0"},"host":"localhost:8080","basePath":"/","paths":{"/api/v1/scheduler/start":{"post":{"description":"Starts background job that every 2 minutes sends 2 unsent messages","tags":["scheduler"],"summary":"Start automatic message sending","responses":{"200":{"description":"OK","schema":{"type":"object","additionalProperties":{"type":"string"}}},"409":{"description":"Conflict","schema":{"type":"object","additionalProperties":{"type":"string"}}}}}},"/api/v1/scheduler/status":{"get":{"description":"Returns scheduler state","tags":["scheduler"],"summary":"Get scheduler status","responses":{"200":{"description":"OK","schema":{"type":"object","additionalProperties":{"type":"string"}}},"500":{"description":"Internal Server Error","schema":{"type":"object","additionalProperties":{"type":"string"}}}}}},"/api/v1/scheduler/stop":{"post":{"description":"Stop background job that sends every 2 minutes sends 2 unsent messages","tags":["scheduler"],"summary":"Stop automatic message sending","responses":{"200":{"description":"OK","schema":{"type":"object","additionalProperties":{"type":"string"}}},"409":{"description":"Conflict","schema":{"type":"object","additionalProperties":{"type":"string"}}}}}},"/messages/sent":{"get":{"description":"Returns a paginated list of messages with status = sent","tags":["messages"],"summary":"List sent messages","parameters":[{"type":"integer","description":"Limit (default 50)","name":"limit","in":"query"},{"type":"integer","description":"Offset (default 0)","name":"offset","in":"query"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/domain.Message"}}},"500":{"description":"Internal Server Error","schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}},"definitions":{"domain.Message":{"type":"object","properties":{"content":{"type":"string"},"createdAt":{"type":"string"},"externalID":{"type":"string"},"id":{"type":"integer"},"sentAt":{"type":"string"},"status":{"$ref":"#/definitions/domain.MessageStatus"},"to":{"type":"string"},"updatedAt":{"type":"string"}}},"domain.MessageStatus":{"type":"string","enum":["pending","sent","failed"],"x-enum-varnames":["StatusPending","StatusSent","StatusFailed"]}}}